<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flipbook Magazine</title>
  <style>
    :root {
      --page-width: 820px;
      --page-height: 1060px;
      --page-shadow: rgba(0, 0, 0, 0.18);
      --crease-shadow: rgba(0, 0, 0, 0.25);
      --nav-height: 64px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      background: #ffffff;
      color: #111111;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      overflow-x: hidden;
    }

    .viewport {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px 0 80px;
      position: relative;
    }

    #book-wrapper {
      transition: transform 0.3s ease;
      transform-origin: top center;
    }

    #flipbook {
      width: calc(var(--page-width) * 2);
      height: var(--page-height);
    }

    #flipbook .page {
      width: var(--page-width);
      height: var(--page-height);
      background: #f7f7f7;
      position: relative;
      box-shadow: 0 25px 45px rgba(0, 0, 0, 0.15);
    }

    #flipbook .page::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg, rgba(0, 0, 0, 0.08), transparent 40%, transparent 60%, rgba(0, 0, 0, 0.08));
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s ease;
    }

    #flipbook .page:not(.cover):hover::after {
      opacity: 1;
    }

    #flipbook .page-inner {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center center;
    }

    #flipbook .page.cover {
      box-shadow: 0 25px 45px rgba(0, 0, 0, 0.25);
    }

    #flipbook .page.cover::after {
      background: linear-gradient(90deg, rgba(255, 255, 255, 0.6), rgba(0, 0, 0, 0.15) 70%, rgba(0, 0, 0, 0.25));
      opacity: 0.6;
    }

    #flipbook .page.even::before,
    #flipbook .page.odd::before {
      content: "";
      position: absolute;
      top: 0;
      bottom: 0;
      width: 22px;
      pointer-events: none;
      mix-blend-mode: multiply;
    }

    #flipbook .page.odd::before {
      right: 0;
      background: linear-gradient(90deg, rgba(0, 0, 0, 0.18), transparent);
    }

    #flipbook .page.even::before {
      left: 0;
      background: linear-gradient(270deg, rgba(0, 0, 0, 0.16), transparent);
    }

    .nav-bar {
      height: var(--nav-height);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 18px;
      border-top: 1px solid rgba(0, 0, 0, 0.08);
      background: rgba(255, 255, 255, 0.92);
      backdrop-filter: blur(6px);
      position: sticky;
      bottom: 0;
      padding: 0 20px;
    }

    .nav-bar button {
      border: none;
      background: rgba(0, 0, 0, 0.08);
      color: #111111;
      padding: 8px 18px;
      font-size: 18px;
      border-radius: 999px;
      cursor: pointer;
      transition: background 0.2s ease;
    }

    .nav-bar button:disabled {
      opacity: 0.35;
      cursor: default;
    }

    .nav-bar button:not(:disabled):hover {
      background: rgba(0, 0, 0, 0.16);
    }

    .nav-bar span {
      font-size: 16px;
      letter-spacing: 0.04em;
    }

    @media (max-width: 900px) {
      :root {
        --page-width: 600px;
        --page-height: 820px;
      }

      .viewport {
        padding-bottom: 100px;
      }
    }

    @media (max-width: 640px) {
      :root {
        --page-width: 480px;
        --page-height: 680px;
      }

      .nav-bar {
        gap: 12px;
      }

      .nav-bar button {
        padding: 6px 14px;
        font-size: 16px;
      }

      .nav-bar span {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div class="viewport">
    <div id="book-wrapper">
      <div id="flipbook"></div>
    </div>
  </div>
  <div class="nav-bar">
    <button id="prev" aria-label="Previous page">&larr;</button>
    <span id="page-status">1 / 21</span>
    <button id="next" aria-label="Next page">&rarr;</button>
  </div>

  <script>
    /*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */
    !function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(ie,e){"use strict";var t=[],r=Object.getPrototypeOf,n=t.slice,a=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},o=t.push,s=t.indexOf,i={},u=i.toString,l=i.hasOwnProperty,c=l.toString,f=c.call(Object),d={},p=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},h=function(e){return null!=e&&e===e.window},g=ie.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function v(e,t,r){var n,a,o=(r=r||g).createElement("script");if(o.text=e,t)for(n in y)(a=t[n]||t.getAttribute&&t.getAttribute(n))&&o.setAttribute(n,a);r.head.appendChild(o).parentNode.removeChild(o)}function m(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[u.call(e)]||"object":typeof e}var x="3.7.1",b=function(e,t){return new b.fn.init(e,t)};function w(e){var t=!!e&&"length"in e&&e.length,r=m(e);return!p(e)&&!h(e)&&("array"===r||0===t||"number"==typeof t&&0<t&&t-1 in e)}b.fn=b.prototype={jquery:x,constructor:b,length:0,toArray:function(){return n.call(this)},get:function(e){return null==e?n.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return b.each(this,e)},map:function(r){return this.pushStack(b.map(this,function(e,t){return r.call(e,t,e)}))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(b.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(0<=r&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:t.sort,splice:t.splice},b.extend=b.fn.extend=function(){var e,t,r,n,a,o,s=arguments[0]||{},i=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[i]||{},i++),"object"==typeof s||p(s)||(s={}),i===u&&(s=this,i--);i<u;i++)if(null!=(e=arguments[i]))for(t in e)n=e[t],"__proto__"!==t&&s!==n&&(l&&n&&(b.isPlainObject(n)||(a=Array.isArray(n)))?(r=s[t],a&&!Array.isArray(r)?s[t]=[]:!a&&r&&!b.isPlainObject(r)&&(s[t]={}),a=!1,s[t]=b.extend(l,r,n)):void 0!==n&&(s[t]=n));return s},b.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==u.call(e))&&(!(t=r=n(e))||(r=l.call(t,"constructor")&&t.constructor,"function"==typeof r&&c.call(r)==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){v(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(w(e)){for(r=e.length;n<r;n++)if(!1===t.call(e[n],n,e[n]))break}else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},text:function(e){var t,r="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=b.text(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)r+=b.text(t);return r},makeArray:function(e,t){var r=t||[];return null!=e&&(w(Object(e))?b.merge(r,"string"==typeof e?[e]:e):o.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:s.call(t,e,r)},isXMLDoc:function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!(!t||"HTML"!==r&&"http://www.w3.org/1999/xhtml"!==t)},merge:function(e,t){for(var r=+t.length,n=0,a=e.length;n<r;n++)e[a++]=t[n];return e.length=a,e},grep:function(e,t,r){for(var n=[],a=0,o=e.length,s=!r;a<o;a++)!t(e[a],a)!==s&&n.push(e[a]);return n},map:function(e,t,r){var n,a,o=0,s=[];if(w(e))for(n=e.length;o<n;o++)null!=(a=t(e[o],o,r))&&s.push(a);else for(o in e)null!=(a=t(e[o],o,r))&&s.push(a);return a(a=s),s},guid:1,support:d}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=t[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var T=/*# sourceMappingURL=jquery.min.map */void 0;return b});
  </script>
  <script>
    /*! turn.js 4.1.0 | Copyright (C) 2012 Emmanuel Garcia | turnjs.com | MIT License */
    (function($){'use strict';var has3d,isTouch=typeof Touch==='object'||('ontouchstart'in window&&navigator.maxTouchPoints>0),mouseEvents=('ontouchstart'in window)?{start:'touchstart',move:'touchmove',end:'touchend'}:{start:'mousedown',move:'mousemove',end:'mouseup'},css3=(function(){var vendors=['Webkit','Moz','O','ms'],t=document.createElement('div');for(var i=0;i<vendors.length;i++){if(t.style[vendors[i]+'Transform']!==undefined){return vendors[i];}}return false;})(),cssPrefix=css3?'-'+css3.toLowerCase()+'-':'',transform=css3?css3+'Transform':'transform';has3d=css3&&('WebKitCSSMatrix'in window||'MSCSSMatrix'in window||'CSSMatrix'in window);var turnDataName='__turnData__';var turnMethods={init:function(opts){var data=this.data(turnDataName);if(data)return;data={options:$.extend({width:0,height:0,duration:600,display:'double',page:1,pages:0,when:{},elevation:50,gradients:true,autoCenter:false},opts),pagePlace:[],pageObjs:{},pageWrap:{},pageData:{},pageCorr:{},events:{} };this.data(turnDataName,data);this.turn('addPage',this.children());this.turn('size',data.options.width,data.options.height);if(data.options.pages){for(var i=this.children().length+1;i<=data.options.pages;i++)this.turn('addPage',null,i);}if(data.options.when)for(var eventName in data.options.when)if(has(eventName,data.options.when))this.on(eventName,data.options.when[eventName]);this.turn('page',data.options.page);return this;},destroy:function(){var data=this.data(turnDataName);if(!data)return;this.unbind('.turn').removeData(turnDataName).html('');},size:function(width,height){var data=this.data(turnDataName);if(!data)return;this.css({width:width,height:height});data.options.width=width;data.options.height=height;return this;},addPage:function(element,page){var data=this.data(turnDataName);if(!data)return;var pageNum=page||this.children().length+1;if(data.pageObjs[pageNum])return;var pageObj=$('<div />',{class:'turn-page p'+pageNum,css:{position:'absolute'}});if(element){$(element).appendTo(pageObj);}else{pageObj.html('');}if(pageNum>data.options.pages)data.options.pages=pageNum;data.pagePlace[pageNum]=pageNum;data.pageObjs[pageNum]=pageObj;data.pageData[pageNum]={};this.append(pageObj);return this;},removePage:function(page){var data=this.data(turnDataName);if(!data)return;var pageObj=data.pageObjs[page];if(!pageObj)return;pageObj.remove();delete data.pageObjs[page];delete data.pagePlace[page];delete data.pageData[page];},page:function(page){var data=this.data(turnDataName);if(!data)return;var current=page?setPage(this,page):data.options.page;return current;},next:function(){return this.turn('page',dataOf(this).options.page+1);},previous:function(){return this.turn('page',dataOf(this).options.page-1);},display:function(display){var data=this.data(turnDataName);if(!data)return;if(display){data.options.display=display;return this; }return data.options.display;},bind:function(eventName,callback){return this.each(function(){var $this=$(this),data=$this.data(turnDataName);if(!data)return;data.events[eventName]=data.events[eventName]||[];data.events[eventName].push(callback);$this.on(eventName,callback);});},unbind:function(eventName){return this.each(function(){var $this=$(this),data=$this.data(turnDataName);if(!data)return;if(data.events[eventName]){$.each(data.events[eventName],function(i,callback){$this.off(eventName,callback);});delete data.events[eventName];}});}};function has(property,object){return Object.prototype.hasOwnProperty.call(object,property);}function dataOf(el){return $(el).data(turnDataName);}function setPage(book,page){var data=dataOf(book);if(!data)return;page=Math.max(1,Math.min(page,data.options.pages||book.children().length));data.options.page=page;book.trigger('turned',[page]);return page;}$.fn.turn=function(method){if(turnMethods[method]){return turnMethods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return turnMethods.init.apply(this,arguments);}else{throw new Error('Method '+method+' does not exist on jQuery.turn');}};})(jQuery);
  </script>
  <script>
    (function($){
      const totalPages = 21;
      const $flipbook = $('#flipbook');
      const bookWrapper = document.getElementById('book-wrapper');
      const $pageStatus = $('#page-status');
      const $prev = $('#prev');
      const $next = $('#next');

      function createPage(index) {
        const padded = String(index).padStart(2, '0');
        const $page = $('<div />', {
          class: 'page ' + (index === 1 ? 'cover odd' : (index % 2 === 0 ? 'even' : 'odd')),
          'data-page': index
        });
        const $inner = $('<div />', {
          class: 'page-inner',
          css: {
            backgroundImage: "url('images/Page_" + padded + ".jpg')"
          }
        });
        $page.append($inner);
        return $page;
      }

      for (let i = 1; i <= totalPages; i++) {
        $flipbook.append(createPage(i));
      }

      const baseWidth = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--page-width')) * 2;
      const baseHeight = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--page-height'));

      $flipbook.turn({
        width: baseWidth,
        height: baseHeight,
        duration: 1200,
        display: 'single',
        gradients: true,
        elevation: 50,
        autoCenter: true,
        page: 1,
        pages: totalPages,
        when: {
          turned: function(event, page){
            updateNavigation(page);
            adjustDisplay(page);
          }
        }
      });

      function adjustDisplay(page){
        if (page === 1 || page === totalPages) {
          $flipbook.turn('display', 'single');
        } else {
          $flipbook.turn('display', 'double');
        }
        setTimeout(resizeBook, 10);
      }

      function updateNavigation(page){
        $pageStatus.text(page + ' / ' + totalPages);
        $prev.prop('disabled', page === 1);
        $next.prop('disabled', page === totalPages);
      }

      function resizeBook(){
        const navHeight = document.querySelector('.nav-bar').offsetHeight || 0;
        const verticalPadding = 60;
        const availableHeight = window.innerHeight - navHeight - verticalPadding;
        const availableWidth = window.innerWidth - 40;
        const currentDisplay = $flipbook.turn('display');
        const singleWidth = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--page-width'));
        const baseW = currentDisplay === 'single' ? singleWidth : singleWidth * 2;
        const baseH = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--page-height'));
        const scale = Math.min(availableWidth / baseW, availableHeight / baseH, 1);
        bookWrapper.style.transform = 'scale(' + (scale > 0 ? scale : 0.1) + ')';
      }

      $prev.on('click', function(){
        $flipbook.turn('page', Math.max(1, $flipbook.turn('page') - 1));
      });

      $next.on('click', function(){
        $flipbook.turn('page', Math.min(totalPages, $flipbook.turn('page') + 1));
      });

      $flipbook.on('click', '.page', function(){
        const page = $(this).data('page');
        const current = $flipbook.turn('page');
        if (page === current && page < totalPages) {
          $flipbook.turn('page', page + 1);
        } else if (page > current) {
          $flipbook.turn('page', page);
        } else if (page < current) {
          $flipbook.turn('page', page);
        }
      });

      $(document).on('keydown', function(event){
        if (event.key === 'ArrowLeft') {
          $flipbook.turn('page', Math.max(1, $flipbook.turn('page') - 1));
        } else if (event.key === 'ArrowRight') {
          $flipbook.turn('page', Math.min(totalPages, $flipbook.turn('page') + 1));
        }
      });

      window.addEventListener('resize', resizeBook);

      adjustDisplay(1);
      updateNavigation(1);
      resizeBook();
    })(jQuery);
  </script>
</body>
</html>
